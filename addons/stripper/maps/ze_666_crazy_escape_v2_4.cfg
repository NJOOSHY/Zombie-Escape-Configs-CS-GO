; - Fixed console timer sentences
; - Modified laser speed due to over 2000
; - Added diagonal lasers in stage 2
; - Added 3 secret triggers for more lasers in stage 1
; - Added 3 secret triggers for more lasers in stage 2
; - Buffed laser boss in stage 2
; - Said "amen" when you choke lasers
; - Removed PickRandom in stage 2 due to multiple trigger

; Fix timer
;; stage 1
modify:
{
    match:
    {
        "targetname" "nrk1_spawn_triggeronce"
        "classname" "trigger_once"
    }
    delete:
    {
        "OnStartTouch" "ConsoleCommandsay ### HOLD THE FOUNTAIN FOR 30 SECONDS ##01"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### HOLD THE FOUNTAIN FOR 30 SECONDS ###01"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_relay_r1"
        "classname" "logic_relay"
    }
    delete:
    {
        "OnTrigger" "ConsoleCommandsay ### ZOMBIES ARE INCOMING IN 5 SECONDS60-1"
        "OnTrigger" "ConsoleCommandsay ### HIDE HERE FOR 60 SECONDS ###1-1"
        "OnTrigger" "ConsoleCommandsay ### HIDE HERE FOR 60 SECONDS ###2-1"
        "OnTrigger" "ConsoleCommandsay ### HIDE HERE FOR 60 SECONDS ###3-1"
    }
    insert:
    {
        "OnTrigger" "ConsoleCommandsay ### ZOMBIES ARE INCOMING IN 5 SECONDS ###60-1"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_room3_once"
        "classname" "trigger_once"
    }
    delete:
    {
        "OnStartTouch" "ConsoleCommandsay ### HELL BRIDGE SPAWNS IN 5 SECONDS51"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### HELL BRIDGE SPAWNS IN 5 SECONDS ###51"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_room4_once"
        "classname" "trigger_once"
    }
    delete:
    {
        "OnStartTouch" "ConsoleCommandsay ### TELEPORT INCOMING IN 30 SECONDS11"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### TELEPORT INCOMING IN 30 SECONDS ###11"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_room4_statue_break"
        "classname" "func_breakable"
    }
    delete:
    {
        "OnBreak" 
        "OnBreak" "ConsoleCommandsay ### 10 SECONDS REMAININGS ###20-1"
    }
    insert:
    {
        "OnBreak" "ConsoleCommandsay ### 10 SECONDS REMAINING ###20-1"
    }
}

;; stage 2
modify:
{
    match:
    {
        "targetname" "nrk2_room3_triggeronce"
        "classname" "trigger_once"
    }
    delete:
    {
        "OnStartTouch" "ConsoleCommandsay ### ZOMBIE BRIDGE ACTIVATE IN 5 SECONDS31"
        "OnStartTouch" "ConsoleCommandsay ### OH NO THE HEAVEN TURNS INTO REDSKY ##311"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### ZOMBIE BRIDGE ACTIVATE IN 5 SECONDS ###31"
        "OnStartTouch" "ConsoleCommandsay ### OH NO THE HEAVEN TURNS INTO REDSKY ###311"
    }
}

; Add triggers
add:
{
    "targetname" "resizeme1"
    "classname" "func_button"
    "speed" "5"
    "movedir" "0 0 0"
    "spawnflags" "1025"

    "OnPressed" "laserfagcountAdd101"
    "OnPressed" "!selfKill01"
}

add:
{
    "targetname" "resizeme2"
    "classname" "func_button"
    "speed" "5"
    "movedir" "0 0 0"
    "spawnflags" "1025"

    "OnPressed" "laserfagcountAdd101"
    "OnPressed" "!selfKill01"
}

add:
{
    "targetname" "resizeme3"
    "classname" "func_button"
    "speed" "5"
    "movedir" "0 0 0"
    "spawnflags" "1025"

    "OnPressed" "laserfagcountAdd101"
    "OnPressed" "!selfKill01"
}

modify:
{
    match:
    {
        "hammerid" "25942"
    }
    insert:
    {
        "OnMapSpawn" "resizeme1AddOutputorigin 2563 -1264 36801"
        "OnMapSpawn" "resizeme1AddOutputsolid 20.021"
        "OnMapSpawn" "resizeme1AddOutputmins -85 -85 -1250.051"
        "OnMapSpawn" "resizeme1AddOutputmaxs 85 85 1250.051"
        "OnMapSpawn" "resizeme1AddOutputtargetname nrk_laserfag_10.061"
    }
}

modify:
{
    match:
    {
        "targetname" "relay_stage1"
        "classname" "logic_relay"
    }
    insert:
    {
        "OnTrigger" "resizeme2AddOutputorigin -2816 -1120 -118201"
        "OnTrigger" "resizeme2AddOutputsolid 20.021"
        "OnTrigger" "resizeme2AddOutputmins -60 -60 -350.051"
        "OnTrigger" "resizeme2AddOutputmaxs 60 60 350.051"
        "OnTrigger" "resizeme2AddOutputtargetname nrk1_laserfag_20.061"
        "OnTrigger" "resizeme3AddOutputorigin -1792 -4352 219501"
        "OnTrigger" "resizeme3AddOutputsolid 20.021"
        "OnTrigger" "resizeme3AddOutputmins -120 -120 -700.051"
        "OnTrigger" "resizeme3AddOutputmaxs 120 120 700.051"
        "OnTrigger" "resizeme3AddOutputtargetname nrk1_laserfag_30.061"
    }
}

modify:
{
    match:
    {
        "targetname" "relay_stage2"
        "classname" "logic_relay"
    }
    insert:
    {
        "OnTrigger" "resizeme2AddOutputorigin 7168 -5120 -44501"
        "OnTrigger" "resizeme2AddOutputsolid 20.021"
        "OnTrigger" "resizeme2AddOutputmins -120 -120 -700.051"
        "OnTrigger" "resizeme2AddOutputmaxs 120 120 700.051"
        "OnTrigger" "resizeme2AddOutputtargetname nrk2_laserfag_20.061"
        "OnTrigger" "resizeme3AddOutputorigin 11623 -1755 -420401"
        "OnTrigger" "resizeme3AddOutputsolid 20.021"
        "OnTrigger" "resizeme3AddOutputmins -120 -120 -700.051"
        "OnTrigger" "resizeme3AddOutputmaxs 120 120 700.051"
        "OnTrigger" "resizeme3AddOutputtargetname nrk2_laserfag_30.061"
    }
}

add:
{
    "targetname" "laserfagcount"
    "classname" "math_counter"
    "startvalue" "0"
    "min" "0"
    "max" "3"

    "OnHitMax" "ConsoleCommandsay ### NICE LASER FAGGOTS HEHEHEHEHE... ###01"
    "OnHitMax" "nrk1_laser2_timerKill01"
    "OnHitMax" "nrk1_room6_triggerAddOutputOnTrigger nrk1_laser3_timer:Enable::9:-101"
    "OnHitMax" "nrk2_laser_caseAddOutputOnCase06 nrk2_laser2_maker_LOW:ForceSpawn::0.01:-101"
    "OnHitMax" "nrk2_laser_caseAddOutputOnCase07 nrk2_laser2_maker_HIGH:ForceSpawn::0.01:-101"
    "OnHitMax" "nrk2_laser_caseAddOutputOnCase08 nrk2_laser3_maker_LOW:ForceSpawn::0.01:-101"
    "OnHitMax" "nrk2_laser_caseAddOutputOnCase09 nrk2_laser3_maker_HIGH:ForceSpawn::0.01:-101"
    "OnHitMax" "nrk2_room6_triggeronce_1AddOutputOnStartTouch Console:Command:say ### DO NOT FORGET BUT YOU MUST TOUCH RED LASERS ###:25:101"
    "OnHitMax" "nrk2_room6_triggeronce_1AddOutputOnStartTouch Console:Command:say ### DO NOT FORGET BUT YOU MUST TOUCH RED LASERS ###:26:101"
    "OnHitMax" "nrk2_room6_triggeronce_1AddOutputOnStartTouch Console:Command:say ### DO NOT FORGET BUT YOU MUST TOUCH RED LASERS ###:27:101"
    "OnHitMax" "nrk2_room6_triggeronce_1AddOutputOnStartTouch Console:Command:say ### DO NOT FORGET BUT YOU MUST TOUCH RED LASERS ###:28:101"
    "OnHitMax" "nrk2_room6_triggeronce_1AddOutputOnStartTouch Console:Command:say ### DO NOT FORGET BUT YOU MUST TOUCH RED LASERS ###:29:101"
}

; Add lasers
;; stage 1
add:
{
    "model" "*122"
    "origin" "0 0 0"
    "targetname" "nrk1_laser3_move1"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3800"
    "movedir" "0 90 0"

    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*122"
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_door1"
    "classname" "func_door"
    "parentname" "nrk1_laser3_move1"
    "spawnflags" "4108"
    "movedir" "90 0 0"
    "lip" "-40"

    "OnFullyOpen" "!selfClose0-1"
    "OnFullyClosed" "!selfOpen0-1"
    "OnUser1" "!selfOpen01"
    "OnUser1" "!selfFireUser201"
    "OnUser2" "!selfColor255 0 00.1-1"
    "OnUser2" "!selfColor255 128 00.2-1"
    "OnUser2" "!selfColor255 255 00.3-1"
    "OnUser2" "!selfColor128 255 00.4-1"
    "OnUser2" "!selfColor0 255 00.5-1"
    "OnUser2" "!selfColor0 255 1280.6-1"
    "OnUser2" "!selfColor0 255 2550.7-1"
    "OnUser2" "!selfColor0 128 2550.8-1"
    "OnUser2" "!selfColor0 0 2550.9-1"
    "OnUser2" "!selfColor128 0 2551-1"
    "OnUser2" "!selfColor255 0 2551.1-1"
    "OnUser2" "!selfColor255 0 1281.2-1"
    "OnUser2" "!selfFireUser21.2-1"
}

add:
{
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_hurt1"
    "classname" "trigger_hurt"
    "parentname" "nrk1_laser3_door1"
    "spawnflags" "4097"
    "filtername" "CTS"
    "damagetype" "0"
    "damagemodel" "0"
    "damage" "66666"
    "damagecap" "66666"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    "OnUser1" "!selfAddOutputsolid 20-1"
    "OnUser1" "!selfAddOutputmins -512 -128 -1.50.01-1"
    "OnUser1" "!selfAddOutputmaxs 512 128 1.50.01-1"
}

add:
{
    "targetname" "nrk1_laser3_temp_LOW"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk1_laser3_move1"
    "Template02" "nrk1_laser3_door1"
    "Template03" "nrk1_laser3_hurt1"
}

add:
{
    "model" "*122"
    "origin" "0 0 0"
    "targetname" "nrk1_laser3_move2"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3800"
    "movedir" "0 90 0"

    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*122"
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_door2"
    "classname" "func_door"
    "parentname" "nrk1_laser3_move2"
    "spawnflags" "4108"
    "movedir" "-90 0 0"
    "lip" "-40"

    "OnFullyOpen" "!selfClose0-1"
    "OnFullyClosed" "!selfOpen0-1"
    "OnUser1" "!selfOpen01"
    "OnUser1" "!selfFireUser201"
    "OnUser2" "!selfColor255 0 00.1-1"
    "OnUser2" "!selfColor255 128 00.2-1"
    "OnUser2" "!selfColor255 255 00.3-1"
    "OnUser2" "!selfColor128 255 00.4-1"
    "OnUser2" "!selfColor0 255 00.5-1"
    "OnUser2" "!selfColor0 255 1280.6-1"
    "OnUser2" "!selfColor0 255 2550.7-1"
    "OnUser2" "!selfColor0 128 2550.8-1"
    "OnUser2" "!selfColor0 0 2550.9-1"
    "OnUser2" "!selfColor128 0 2551-1"
    "OnUser2" "!selfColor255 0 2551.1-1"
    "OnUser2" "!selfColor255 0 1281.2-1"
    "OnUser2" "!selfFireUser21.2-1"
}

add:
{
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_hurt2"
    "classname" "trigger_hurt"
    "parentname" "nrk1_laser3_door2"
    "spawnflags" "4097"
    "filtername" "CTS"
    "damagetype" "0"
    "damagemodel" "0"
    "damage" "66666"
    "damagecap" "66666"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    "OnUser1" "!selfAddOutputsolid 20-1"
    "OnUser1" "!selfAddOutputmins -512 -128 -1.50.01-1"
    "OnUser1" "!selfAddOutputmaxs 512 128 1.50.01-1"
}

add:
{
    "targetname" "nrk1_laser3_temp_HIGH"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk1_laser3_move2"
    "Template02" "nrk1_laser3_door2"
    "Template03" "nrk1_laser3_hurt2"
}

add:
{
    "model" "*122"
    "origin" "0 0 0"
    "targetname" "nrk1_laser3_move_L"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3800"
    "movedir" "0 90 0"
    
    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*123"
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_door_L"
    "classname" "func_rotating"
    "parentname" "nrk1_laser3_move_L"
    "spawnflags" "74"
    "maxspeed" "200"

    "OnUser1" "!selfStart01"
    "OnUser1" "!selfFireUser201"
    "OnUser2" "!selfColor255 0 0 0.1-1"
    "OnUser2" "!selfColor255 128 00.2-1"
    "OnUser2" "!selfColor255 255 00.3-1"
    "OnUser2" "!selfColor128 255 00.4-1"
    "OnUser2" "!selfColor0 255 00.5-1"
    "OnUser2" "!selfColor0 255 1280.6-1"
    "OnUser2" "!selfColor0 255 2550.7-1"
    "OnUser2" "!selfColor0 128 2550.8-1"
    "OnUser2" "!selfColor0 0 2550.9-1"
    "OnUser2" "!selfColor128 0 2551-1"
    "OnUser2" "!selfColor255 0 2551.1-1"
    "OnUser2" "!selfColor255 0 1281.2-1"
    "OnUser2" "!selfFireUser21.2-1"
}

add:
{
    "model" "*123"
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_hurt_L"
    "classname" "trigger_hurt"
    "parentname" "nrk1_laser3_door_L"
    "spawnflags" "4097"
    "filtername" "CTS"
    "damagetype" "0"
    "damagemodel" "0"
    "damage" "66666"
    "damagecap" "66666"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
}

add:
{
    "targetname" "nrk1_laser3_temp_L"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk1_laser3_move_L"
    "Template02" "nrk1_laser3_door_L"
    "Template03" "nrk1_laser3_hurt_L"
}

add:
{
    "model" "*122"
    "origin" "0 0 0"
    "targetname" "nrk1_laser3_move_R"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3800"
    "movedir" "0 90 0"

    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*121"
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_door_R"
    "classname" "func_rotating"
    "parentname" "nrk1_laser3_move_R"
    "spawnflags" "72"
    "maxspeed" "200"
    
    "OnUser1" "!selfStart01"
    "OnUser1" "!selfFireUser201"
    "OnUser2" "!selfColor255 0 0 0.1-1"
    "OnUser2" "!selfColor255 128 00.2-1"
    "OnUser2" "!selfColor255 255 00.3-1"
    "OnUser2" "!selfColor128 255 00.4-1"
    "OnUser2" "!selfColor0 255 00.5-1"
    "OnUser2" "!selfColor0 255 1280.6-1"
    "OnUser2" "!selfColor0 255 2550.7-1"
    "OnUser2" "!selfColor0 128 2550.8-1"
    "OnUser2" "!selfColor0 0 2550.9-1"
    "OnUser2" "!selfColor128 0 2551-1"
    "OnUser2" "!selfColor255 0 2551.1-1"
    "OnUser2" "!selfColor255 0 1281.2-1"
    "OnUser2" "!selfFireUser21.2-1"
}

add:
{
    "model" "*121"
    "origin" "0 0 512"
    "targetname" "nrk1_laser3_hurt_R"
    "classname" "trigger_hurt"
    "parentname" "nrk1_laser3_door_R"
    "spawnflags" "4097"
    "filtername" "CTS"
    "damagetype" "0"
    "damagemodel" "0"
    "damage" "66666"
    "damagecap" "66666"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
}

add:
{
    "targetname" "nrk1_laser3_temp_R"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk1_laser3_move_R"
    "Template02" "nrk1_laser3_door_R"
    "Template03" "nrk1_laser3_hurt_R"
}

add:
{
    "origin" "-1536 768 1588"
    "angles" "0 0 0"
    "targetname" "nrk1_laser3_maker_LOW"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk1_laser3_temp_LOW"

    "OnEntitySpawned" "nrk1_laser3_move*Open0.01-1"
    "OnEntitySpawned" "nrk1_laser3_door*FireUser10.01-1"
}

add:
{
    "origin" "-1536 768 1572"
    "angles" "0 0 0"
    "targetname" "nrk1_laser3_maker_HIGH"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk1_laser3_temp_HIGH"

    "OnEntitySpawned" "nrk1_laser3_move*Open0.01-1"
    "OnEntitySpawned" "nrk1_laser3_door*FireUser10.01-1"
}

add:
{
    "origin" "-1536 768 1592"
    "angles" "0 0 0"
    "targetname" "nrk1_laser3_maker_L"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk1_laser3_temp_L"

    "OnEntitySpawned" "nrk1_laser3_move*Open0.01-1"
    "OnEntitySpawned" "nrk1_laser3_door*FireUser10.01-1"
}

add:
{
    "origin" "-1536 768 1592"
    "angles" "0 0 0"
    "targetname" "nrk1_laser3_maker_R"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk1_laser3_temp_R"

    "OnEntitySpawned" "nrk1_laser3_move*Open0.01-1"
    "OnEntitySpawned" "nrk1_laser3_door*FireUser10.01-1"
}

add:
{
    "targetname" "nrk1_laser3_case"
    "classname" "logic_case"

    "OnCase01" "nrk1_laser3_maker_LOWForceSpawn0-1"
    "OnCase02" "nrk1_laser3_maker_HIGHForceSpawn0-1"
    "OnCase03" "nrk1_laser3_maker_RForceSpawn0-1"
    "OnCase04" "nrk1_laser3_maker_LForceSpawn0-1"
    "OnCase05" "nrk1_laser3_maker_LOWForceSpawn0-1"
    "OnCase05" "nrk1_laser3_maker_RForceSpawn0-1"
    "OnCase06" "nrk1_laser3_maker_LOWForceSpawn0-1"
    "OnCase06" "nrk1_laser3_maker_LForceSpawn0-1"
    "OnCase07" "nrk1_laser3_maker_HIGHForceSpawn0-1"
    "OnCase07" "nrk1_laser3_maker_RForceSpawn0-1"
    "OnCase08" "nrk1_laser3_maker_HIGHForceSpawn0-1"
    "OnCase08" "nrk1_laser3_maker_LForceSpawn0-1"
    "OnCase09" "nrk1_laser3_maker_RForceSpawn0-1"
    "OnCase09" "nrk1_laser3_maker_LForceSpawn0-1"
    "OnCase10" "nrk1_laser3_maker_LOWForceSpawn0-1"
    "OnCase10" "nrk1_laser3_maker_HIGHForceSpawn0-1"
}

add:
{
    "targetname" "nrk1_laser3_timer"
    "classname" "logic_timer"
    "StartDisabled" "1"
    "UseRandomTime" "1"
    "LowerRandomBound" "1.7"
    "UpperRandomBound" "2.5"
    
	"OnTimer" "nrk1_laser3_casePickRandom0.01-1"
    "OnTimer" "nrk1_laser3_hurt*FireUser10.02-1"
	"OnTimer" "nrk1_nicemess_soundPlaySound0.02-1"
	"OnTimer" "nrk_sound_bladePlaySound0.03-1"
	"OnTimer" "nrk1_nicemess_soundStopSound2-1"
}

modify:
{
    match:
    {
        "targetname" "nrk1_boss_hp_iterations"
        "classname" "math_counter"
    }
    insert:
    {
        "OnHitMin" "nrk1_laser3_timerDisable0.05-1"
        "OnHitMin" "nrk1_laser3_timerKill0.07-1"
    }
}

;; stage 2
add:
{
    "model" "*16"
    "origin" "0 0 0"
    "targetname" "nrk2_laser2_move1"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3000"
    "movedir" "0 180 0"
    "rendercolor" "255 32 0"

    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*15"
    "origin" "0 0 40"
    "targetname" "nrk2_laser2_hurt1"
    "classname" "trigger_hurt"
    "parentname" "nrk2_laser2_move1"
    "spawnflags" "4097"
    "filtername" "CTS"
    "damagetype" "0"
    "damagemodel" "0"
    "damage" "666666"
    "damagecap" "666666"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
}

add:
{
    "targetname" "nrk2_laser2_temp_LOW"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk2_laser2_move1"
    "Template02" "nrk2_laser2_hurt1"
}

add:
{
    "model" "*16"
    "origin" "0 0 0"
    "targetname" "nrk2_laser2_move2"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3000"
    "movedir" "0 180 0"
    "rendercolor" "255 32 0"

    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*15"
    "origin" "0 0 -36"
    "targetname" "nrk2_laser2_hurt2"
    "classname" "trigger_hurt"
    "parentname" "nrk2_laser2_move2"
    "spawnflags" "4097"
    "filtername" "CTS"
    "damagetype" "0"
    "damagemodel" "0"
    "damage" "666666"
    "damagecap" "666666"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
}

add:
{
    "targetname" "nrk2_laser2_temp_HIGH"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk2_laser2_move2"
    "Template02" "nrk2_laser2_hurt2"
}

add:
{
    "model" "*16"
    "origin" "0 0 0"
    "targetname" "nrk2_laser3_move1"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3000"
    "movedir" "0 180 0"

    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*16"
    "origin" "0 0 1536"
    "targetname" "nrk2_laser3_door1"
    "classname" "func_door"
    "parentname" "nrk2_laser3_move1"
    "spawnflags" "4108"
    "movedir" "90 0 0"
    "rendercolor" "0 32 255"
    "lip" "-50"
	
	"OnUser1" "!selfOpen0.51"
	"OnUser1" "!selfFireUser201"
	"OnUser2" "!selfColor0 32 2550.1-1"
	"OnUser2" "!selfFireUser20.2-1"
}

add:
{
    "model" "*15"
    "origin" "0 0 1536"
    "targetname" "nrk2_laser3_hurt1"
    "classname" "trigger_hurt"
    "parentname" "nrk2_laser3_door1"
    "spawnflags" "4097"
	"filtername" "CTS"
	"damagetype" "0"
	"damagemodel" "0"
	"damagecap" "77777"
	"damage" "77777"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
}

add:
{
    "targetname" "nrk2_laser3_temp_LOW"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk2_laser3_move1"
    "Template02" "nrk2_laser3_door1"
    "Template03" "nrk2_laser3_hurt1"
}

add:
{
    "model" "*16"
    "origin" "0 0 0"
    "targetname" "nrk2_laser3_move2"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "3000"
    "movedir" "0 180 0"

    "OnFullyOpen" "!selfKillHierarchy01"
}

add:
{
    "model" "*16"
    "origin" "0 0 1536"
    "targetname" "nrk2_laser3_door2"
    "classname" "func_door"
    "parentname" "nrk2_laser3_move2"
    "spawnflags" "4108"
    "movedir" "-90 0 0"
    "rendercolor" "0 32 255"
    "lip" "-50"
	
	"OnUser1" "!selfOpen0.51"
	"OnUser1" "!selfFireUser201"
	"OnUser2" "!selfColor0 32 2550.1-1"
	"OnUser2" "!selfFireUser20.2-1"
}

add:
{
    "model" "*15"
    "origin" "0 0 1536"
    "targetname" "nrk2_laser3_hurt2"
    "classname" "trigger_hurt"
    "parentname" "nrk2_laser3_door2"
    "spawnflags" "4097"
	"filtername" "CTS"
	"damagetype" "0"
	"damagemodel" "0"
	"damagecap" "77777"
	"damage" "77777"

    "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
}

add:
{
    "targetname" "nrk2_laser3_temp_HIGH"
    "classname" "point_template"
    "spawnflags" "0"
    "Template01" "nrk2_laser3_move2"
    "Template02" "nrk2_laser3_door2"
    "Template03" "nrk2_laser3_hurt2"
}

add:
{
    "origin" "1024 7680 4128"
    "angles" "0 0 0"
    "targetname" "nrk2_laser2_maker_LOW"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk2_laser2_temp_LOW"
    
    "OnEntitySpawned" "nrk2_laser2_move*Open0.01-1"
}

add:
{
    "origin" "1024 7680 4172"
    "angles" "0 0 0"
    "targetname" "nrk2_laser2_maker_HIGH"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk2_laser2_temp_HIGH"
    
    "OnEntitySpawned" "nrk2_laser2_move*Open0.01-1"
}

add:
{
    "origin" "1024 7680 2632"
    "angles" "0 0 0"
    "targetname" "nrk2_laser3_maker_LOW"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk2_laser3_temp_LOW"

    "OnEntitySpawned" "nrk2_laser3_move*Open0.01-1"
    "OnEntitySpawned" "nrk2_laser3_door*FireUser10.01-1"
}

add:
{
    "origin" "1024 7680 2592"
    "angles" "0 0 0"
    "targetname" "nrk2_laser3_maker_HIGH"
    "classname" "env_entity_maker"
    "spawnflags" "0"
    "EntityTemplate" "nrk2_laser3_temp_HIGH"

    "OnEntitySpawned" "nrk2_laser3_move*Open0.01-1"
    "OnEntitySpawned" "nrk2_laser3_door*FireUser10.01-1"
}

modify:
{
    match:
    {
        "targetname" "nrk2_laser_case"
        "classname" "logic_case"
    }
    delete:
    {
        "OnUser1" "nrk2_laser_makerForceSpawn0.01-1"
        "OnUser1" "!selfPickRandom0-1"
    }
    insert:
    {
        "OnCase01" "nrk2_laser_makerForceSpawn0.01-1"
        "OnCase02" "nrk2_laser_makerForceSpawn0.01-1"
        "OnCase03" "nrk2_laser_makerForceSpawn0.01-1"
        "OnCase04" "nrk2_laser_makerAddOutputangles 0 0 -3.70-1"
        "OnCase04" "nrk2_laser_makerAddOutputorigin 1024 7680 41320-1"
        "OnCase04" "nrk2_laser_makerForceSpawn0.01-1"
        "OnCase05" "nrk2_laser_makerAddOutputangles 0 0 3.70-1"
        "OnCase05" "nrk2_laser_makerAddOutputorigin 1024 7680 41320-1"
        "OnCase05" "nrk2_laser_makerForceSpawn0.01-1"
    }
}

; Buff laser boss health
modify:
{
    match:
    {
        "classname" "math_counter"
        "targetname" "nrk2_boss_hp_backup"
    }
    replace:
    {
        "max" "300"
    }
}

modify:
{
    match:
    {
        "classname" "math_counter"
        "targetname" "nrk2_boss_laser_counter"
    }
    replace:
    {
        "max" "300"
    }
}

; Amen to lasers
modify:
{
    match:
    {
        "targetname" "nrk1_laser_hurt_L"
        "classname" "trigger_hurt"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_laser_hurt_R"
        "classname" "trigger_hurt"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_laser2_hurt"
        "classname" "trigger_hurt"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_laser2_hurt_L"
        "classname" "trigger_hurt"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk1_laser2_hurt_R"
        "classname" "trigger_hurt"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk2_laser1_hurt"
        "classname" "trigger_hurt"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    }
}

modify:
{
    match:
    {
        "targetname" "nrk2_laser_hurt"
        "classname" "trigger_hurt"
    }
    insert:
    {
        "OnStartTouch" "ConsoleCommandsay ### AMEN ###0-1"
    }
}